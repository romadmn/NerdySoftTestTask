<ng-template appRef></ng-template>
<div class="container my-4">
  <form
    [formGroup]="addAnnouncementForm"
    #ngForm="ngForm"
    (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label >Title</label>
      <input formControlName="title" type="email" class="form-control" aria-describedby="emailHelp" placeholder="Enter title">
    </div>
    <div class="form-group">
      <label >Description</label>
      <input formControlName="description" type="email" class="form-control" aria-describedby="emailHelp" placeholder="Enter description">
    </div>
    <button type="submit" name="submit" class="btn btn-primary">Add new announcement</button>
  </form>
  <br/>

  <ng-template [ngIf]="announcements?.length==0" [ngIfElse]="announcementExist">
    <div class="container my-5 py-5 z-depth-1">

      <section class="text-center px-md-5 mx-md-5 dark-grey-text">
        <h3 class="font-weight-bold">No announcements found.</h3>
      </section>

    </div>
  </ng-template>


  <ng-template #announcementExist>
    <div class="list-group" *ngFor="let announcement of announcements; let key = index">
      <div class="row">
        <div class="col-9">
          <a [routerLink]="['/announcement/', announcement.id]" class="list-group-item list-group-item-action flex-column align-items-start active">
            <div class="d-flex w-100 justify-content-between">
              <h5 class="mb-1">{{announcement.title}}</h5>
              <small>{{announcement.dateAdded | date}}</small>
            </div>
            <p class="mb-1">{{announcement.description}}</p>
          </a>
        </div>
        <div class="col">
          <ul class="list-inline m-0">
            <li class="list-inline-item">
              <button class="btn btn-primary btn-sm rounded-0" type="button" data-toggle="tooltip" data-placement="top" title="Add" (click)="showEditForm(announcement)"><i>Edit</i></button>
            </li>
            <li class="list-inline-item">
              <button class="btn btn-danger btn-sm rounded-0" type="button" data-toggle="tooltip" data-placement="top" title="Delete" (click)="deleteAnnouncement(announcement.id)"><i>Delete</i></button>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <br/>
    </ng-template>

</div>
